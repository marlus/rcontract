<%= select :alarm, :alarm_order_id,
       AlarmOrder.find(:all).collect {|c| [ c.name, c.id ] },
       { :include_blank => true } %>

<%= select :alarm, :alarm_period_warning_id,
       AlarmPeriodWarning.find(:all).collect {|c| [ c.name, c.id ] },
       { :include_blank => true } %>

<% javascript_tag do -%>
  var <%= "#{form_items}" %> = [
    { fieldLabel:    'Data de aviso',
      xtype:         'combo',
      triggerAction: 'all',
      typeAhead:      true,
      forceSelection: true,
      transform:     'alarm_alarm_period_warning_id',
      lazyRender:     true
    },
    { fieldLabel:    'Ordem',
      xtype:         'combo',
      triggerAction: 'all',
      typeAhead:      true,
      forceSelection: true,
      transform:     'alarm_alarm_order_id',
      lazyRender:     true
    },
	{ xtype: 'checkboxgroup',
	  fieldLabel: 'Tipo Alarme',
	  itemCls: 'x-check-group-alt',
	  columns: 1,
	  items: [
		  <% AlarmTypeWarning.find(:all).each do |a| %>
			  {boxLabel: '<%= a.name %>', name: 'alarm[alarm_type_warning_ids][]', inputValue: '<%= a.id %>', <%= @alarm.alarm_type_warnings.include?(a) == false ? '' : 'checked: true' %>},
		  <% end %>
	  ]
	}
  ];
<% end -%>