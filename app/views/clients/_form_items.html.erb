<%= select :client, :person_type_id,
       PersonType.find(:all).collect {|c| [ c.name, c.id ] },
       { :include_blank => true } %>
<% javascript_tag do -%>
  var <%= "#{form_items}" %> = [
    <%= ext_field(:field_label => 'Nome', :name => 'client[name]', :xtype => :text_field) %>,
    <%= ext_field(:field_label => 'EndereÃ§o', :name => 'client[address]', :xtype => :text_field) %>,
    { fieldLabel:    'Tipo Pessoa',
      xtype:         'combo',
      triggerAction: 'all',
      typeAhead:      true,
      forceSelection: true,
      transform:     'client_person_type_id',
      lazyRender:     true
    },
    <%= ext_field(:field_label => 'Detalhes', :name => 'client[details]', :xtype => :text_area) %>
  ];
<% end -%>
