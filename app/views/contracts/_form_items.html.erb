<%= select :contract_category, :contract_category_id,
       ContractCategory.find(:all).collect {|c| [ c.name, c.id ] },
       { :include_blank => true } %>
<%= select :contract_type, :contract_type_id,
       ContractType.find(:all).collect {|c| [ c.document, c.id ] },
       { :include_blank => true } %>
<% javascript_tag do -%>
  var <%= "#{form_items}" %> = [
	{ 
		fieldLabel:    'Categoria',
		xtype:         'combo',
		triggerAction: 'all',
		typeAhead:      true,
		forceSelection: true,
		transform:     'contract_category_contract_category_id',
		lazyRender:     true,
	    listeners: {
	          select: {
	              fn:function()
	              {
	                  Ext.getCmp('categoryType').clearValue();
	              }
	          }
	      }
	},
	{ 
		id: 		   'categoryType',
		fieldLabel:    'Tipo',
		xtype:         'combo',
		triggerAction: 'all',
		typeAhead:      true,
		forceSelection: true,
		transform:     'contract_type_contract_type_id',
		lazyRender:     true
	}	
  ];
<% end -%>
