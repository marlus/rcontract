<%= select :user, :group_id,
       Group.find(:all).collect {|c| [ c.name, c.id ] },
       { :include_blank => true } %>

	<%= stylesheet_link_tag "../ext/examples/multiselect/multiselect.css"  %>
	<%= javascript_include_tag "../ext/examples/multiselect/DDView.js" %>
	<%= javascript_include_tag "../ext/examples/multiselect/MultiSelect.js" %>
	<%= javascript_include_tag "../ext/examples/multiselect/ItemSelector.js" %>
	
<% javascript_tag do -%>

	/*var groupsStore = new Ext.data.JsonStore({
		url: '/contract_types/list_types/1',  
		fields: [
			{name: 'id'},
			{name: 'document'}
		]
	});*/

  var user_form_items = [
    <%= ext_field(:field_label => 'UsuÃ¡rio', :name => 'user[username]', :xtype => :text_field) %>,
	{
		fieldLabel:    'Senha',
		xtype:         'textfield',
		name:		   'user[password]',
		allowBlank:	   'false',
		inputType:	   'password'
	},
    <%= ext_field(:field_label => 'Nome', :name => 'user[name]', :xtype => :text_field) %>,
    <%= ext_field(:field_label => 'E-mail', :name => 'user[email]', :xtype => :text_field) %>,
    { 
		fieldLabel:    'Grupo',
		xtype:         'combo',
		triggerAction: 'all',
		typeAhead:      true,
		forceSelection: true,
		transform:     'user_group_id',
		lazyRender:     true
    }/*,
	{
        xtype:"itemselector",
         name:"itemselector",
         fieldLabel:"ItemSelector",
         dataFields:["code", "desc"],
         toData:[["10", "Ten"]],
         msWidth:250,
         msHeight:200,
         valueField:"code",
         displayField:"desc",
         imagePath:"../ext/examples/multiselect/images/",
         toLegend:"Selected",
         fromLegend:"Available",
         fromData:[[123,"One Hundred Twenty Three"],
             ["1", "One"], ["2", "Two"], ["3", "Three"], ["4", "Four"], ["5", "Five"],
             ["6", "Six"], ["7", "Seven"], ["8", "Eight"], ["9", "Nine"]],
    }*/
  ];
<% end -%>